<!DOCTYPE html>
<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">


    <!-- <script src="javascript.js"></script> -->

<link href="https://fonts.googleapis.com/css?family=Sansita:800" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="style.css" media="screen" />

	<title>New Westminster Helping Hub</title>
</head>
<body>
	<div class="container-fluid">
	<h1>
      <image src="snowandtree.jpg"/>
      <span id="title">
      <!-- <img src="http://opendata.newwestcity.ca/images/city-of-new-westminster.png" style="height:70px;"> -->
      New Westminster Helping Hub</span>

       <a href="login_form.html" class='btn btn-primary pull-right inline'>Log in</button>
       <a href="report_form.html" class="btn btn-warning pull-right inline">Ask For Help!</a>
       <a href="index.html" class='btn btn-default pull-right inline'>Home</a>


	</h1>


    <div class="alert alert-danger">
    <marquee behavior="scroll" direction="left"><strong>Alert: </strong>Snowfall warning in effect, view map for traffic updates. Please remember to dress warm.</marquee>
    </div>

  <div class="row">
    <div class="col-md-6">
        <div id="filter-menu">
        <div class="row">
          <div class="col-xs-2">
          <div class="dropdown">
              <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Categories:
              <span class="caret"></span></button>
              <ul class="dropdown-menu">
                <li><a href="#" id="all" onclick="filterAll()">All</a></li>
                <li><a href="#" id="snow-ice" onclick="filterSnow()" >Snow/Ice</a></li>
                <li><a href="#" id="tree" onclick="filterTree()">Fallen Tree</a></li>
                <li><a href="#" id="other" onclick="filterOther()">Other</a></li>
              </ul>
          </div>
          </div>

          <div class="col-xs-2">
          <div class="dropdown">
              <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Urgency:
              <span class="caret"></span></button>
              <ul class="dropdown-menu">
                <li><a href="#" id="all" onclick="filterAll()">All</a></li>
                <li><a href="#" onclick="filterHigh()">High</a></li>
                <li><a href="#"onclick="filterMedium()">Medium</a></li>
                <li><a href="#" onclick="filterLow()">Low</a></li>
              </ul>
          </div>
          </div>
          <div id="search-box" class="col-xs-6">
            <input class="pull-right" type="text" placeholder="Search keyword">
          </div>

          <div class="col-xs-2">
            <button class='btn btn-info pull-right'>Search</button>
          </div>

          </div>
        </div>

    </div>

    <div class="col-md-6">
          <a id="flag-button" href="flag_form.html" class='btn btn-danger pull-right inline'>Flag an Accident or Detour</a>

    </div>
    </div>

	<!-- user info and map-->
	<div class="row">
    <div class="col-md-6">




    <div id="postings" class="well">
            <!-- added posting -->

      		<div id="post0" class="post-box">
      		<div class="row">
      			<div style="font:15px;" class="col-xs-8">
      				<p><strong>New Westminster City Hall</strong></p>
      			</div>
      			<div class="col-xs-4">
      				<p class="pull-right">Unresolved</p>
                    <p style="color:red;font-style: italic;">New</p>
      			</div>
      		</div>
      		<div class="row">
      			<div class="col-xs-8">
      			<p><strong>Contact info: </strong> 604-788-2333</p>
      			</div>
      		</div>

      		<div class="row">
      			<div class="col-xs-8">
      			<p><strong>Urgency: </strong>High</p>
      			</div>
      			<div class="col-xs-4">
      			<p class="pull-right"><strong>0.1 km away</strong></p>
      			</div>
      		</div>
      		<div class="row">
      			<div class="col-xs-9">
      			<p><strong>Description: </strong>The city hall needs your help! Too many cars are stuck on the hill, we would really appreciate it if the community can help with clearing the snow!</p>
      			</div>
            <div class="col-xs-1">
            </div>
      			<div class="col-xs-2">
      			<a href="login_form.html" class='btn btn-success pull-right'>I can help!</a>
      			</div>
      		</div>
      		</div>
      		<!-- first posting -->

      		<div id="post1" class="post-box">
      		<div class="row">
      			<div style="font:15px;" class="col-xs-8">
      				<p><strong>668 Columbia Street </strong></p>
      			</div>
      			<div class="col-xs-4">
      				<p class="pull-right">Unresolved</p>
      			</div>
      		</div>
      		<div class="row">
      			<div class="col-xs-8">
      			<p><strong>Contact info: </strong> 604-788-9090</p>
      			</div>
      		</div>

      		<div class="row">
      			<div class="col-xs-8">
      			<p><strong>Urgency: </strong>High</p>
      			</div>
      			<div class="col-xs-4">
      			<p class="pull-right"><strong>1.6 km away</strong></p>
      			</div>
      		</div>
      		<div class="row">
      			<div class="col-xs-9">
      			<p><strong>Description: </strong>Car stuck on hill, need help clearing the snow</p>
      			</div>
            <div class="col-xs-1">
            </div>
      			<div class="col-xs-2">
      			<a href="login_form.html" class='btn btn-success pull-right'>I can help!</a>
      			</div>
      		</div>
      		</div>

          <!-- second posting -->
          <div id="post2" class="post-box">
          <div class="row">
            <div style="font:15px;" class="col-xs-8">
              <p> <strong>109 Francis Way </strong></p>
            </div>
            <div class="col-xs-4">
              <p class="pull-right">Unresolved</p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-8">
            <p><strong>Contact info: </strong>604-345-0983</p>
            </div>
          </div>

          <div class="row">
            <div class="col-xs-8">
            <p><strong>Urgency: </strong>Medium</p>
            </div>
            <div class="col-xs-4">
            <p class="pull-right"><strong>2.0 km away</strong></p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-9">
            <p><strong>Description: </strong>Family away on vacation, can someone please help shovel snow on the sidewalk? Thank you in advance!</p>
            </div>
            <div class="col-xs-1">
            </div>
            <div class="col-xs-2">
            <a href="login_form.html" class='btn btn-success pull-right'>I can help!</a>
            </div>
          </div>
          </div>

      		<!-- third posting -->
          <div id="post3" class="post-box">
          <div class="row">
            <div style="font:15px;" class="col-xs-8">
              <p><strong>1045 Quayside Drive</strong></p>
            </div>
            <div class="col-xs-4">
              <p class="pull-right">Unresolved</p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-8">
            <p><strong>Contact info: </strong>778-464-8809</p>
            </div>
          </div>

          <div class="row">
            <div class="col-xs-8">
            <p><strong>Urgency: </strong>Low</p>
            </div>
            <div class="col-xs-4">
            <p class="pull-right"><strong>2.7 km away</strong></p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-9">
            <p><strong>Description: </strong>Fallen tree in the front yard, would appreciate it if someone can help me clear it!</p>
            </div>
            <div class="col-xs-1">
            </div>
            <div class="col-xs-2">
            <a href="login_form.html" class='btn btn-success pull-right'>I can help!</a>
            </div>
          </div>
          </div>


          <!-- fourth posting -->
          <div id="post4" class="post-box">
          <div class="row">
            <div style="font:15px;" class="col-xs-8">
              <p><strong>31 Capilano Way</strong></p>
            </div>
            <div class="col-xs-4">
              <p class="pull-right">Unresolved</p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-8">
            <p><strong>Contact info: </strong>778-464-8809</p>
            </div>
          </div>

          <div class="row">
            <div class="col-xs-8">
            <p><strong>Urgency: </strong>Low</p>
            </div>
            <div class="col-xs-4">
            <p class="pull-right"><strong>3.2 km away</strong></p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-9">
            <p><strong>Description: </strong>Senior need help with snow shoveling</p>
            </div>
            <div class="col-xs-1">
            </div>
            <div class="col-xs-2">
            <a href="login_form.html" class='btn btn-success pull-right'>I can help!</a>
            </div>
          </div>
          </div>

          <!-- Fifth posting -->
          <div id="post5" class="post-box">
          <div class="row">
            <div style="font:15px;" class="col-xs-8">
              <p><strong>850 Royal Ave</strong></p>
            </div>
            <div class="col-xs-4">
              <p class="pull-right">Unresolved</p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-8">
            <p><strong>Contact info: </strong>778-861-0959</p>
            </div>
          </div>

          <div class="row">
            <div class="col-xs-8">
            <p><strong>Urgency: </strong>Medium</p>
            </div>
            <div class="col-xs-4">
            <p class="pull-right"><strong>4.5 km away</strong></p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-9">
            <p><strong>Description: </strong>Icy driveway, can someone please bring a shovel and help clear the ice? Thanks!</p>
            </div>
            <div class="col-xs-1">
            </div>
            <div class="col-xs-2">
            <a href="login_form.html" class='btn btn-success pull-right'>I can help!</a>
            </div>
          </div>
          </div>

          <!-- Sixth posting -->
          <div id="post6" class="post-box">
          <div class="row">
            <div style="font:15px;" class="col-xs-8">
              <p><strong>306 Sixth Street</strong></p>
            </div>
            <div class="col-xs-4">
              <p class="pull-right">Unresolved</p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-8">
            <p><strong>Contact info: </strong>604-883-8395</p>
            </div>
          </div>

          <div class="row">
            <div class="col-xs-8">
            <p><strong>Urgency: </strong>High</p>
            </div>
            <div class="col-xs-4">
            <p class="pull-right"><strong>6.2 km away</strong></p>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-9">
            <p><strong>Description: </strong>Big Tree fallen onto driveway</p>
            </div>
            <div class="col-xs-1">
            </div>
            <div class="col-xs-2">
            <a href="login_form.html" class='btn btn-success pull-right'>I can help!</a>
            </div>
          </div>
          </div>


    </div>
    </div>
    <div class="col-md-6">




      <div id="map"></div>
    </div>

    <!-- END user info -->

	</div>
	<script>

	$(document).ready(function() {
		$(".dropdown-toggle").dropdown();

  //     jQuery("#snow-ice").on('click',function(){
  //   filterPostsByCategory("Snow/Ice");
  //   // e.preventDefault();
  // });
  // jQuery("#tree").on('click',function(){
  //   filterPostsByCategory("Fallen Tree");
  //   // e.preventDefault();
  // });
  // jQuery("#other").on('click',function(){
  //   filterPostsByCategory("Other");
  //   // e.preventDefault();
  // });

	});

      function initMap() {
        var acc_0 = {lat: 49.206, lng: -122.910};
        var acc_1 = {lat: 49.215, lng: -122.920};
        var acc_2 = {lat: 49.223, lng: -122.892};
        var acc_3 = {lat: 49.202, lng: -122.940};
        var acc_4 = {lat: 49.218, lng: -122.892};

		icon = 'https://maps.google.com/mapfiles/kml/shapes/flag_maps.png';

        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 13,
          center: acc_1
          <!--zoom: 4,-->
    	  <!--center: {lat: -28, lng: 137}-->
        });


        var marker0 = new google.maps.Marker({
          position: acc_0,
          map: map,
          icon: icon
        });

        var marker = new google.maps.Marker({
          position: acc_1,
          map: map,
          icon: icon
        });
        var marker2 = new google.maps.Marker({
          position: acc_2,
          map: map,
          icon: icon
        });
        var marker3 = new google.maps.Marker({
          position: acc_3,
          map: map,
          icon: icon
        });

        var marker4 = new google.maps.Marker({
          position: acc_4,
          map: map,
          icon: 'road.png'
        });

        var acc_text_0 = "New Westminster City Hall <br><br><strong>Description: </strong>The city hall needs your help! <br>Too many cars are stuck on the hill, <br>we would really appreciate it if the <br>community can help with clearing the snow!";
        var acc_text_1 = "668 Columbia Street <br><br><strong>Description: </strong>Car stuck on hill, need help clearing <br>the snow";
        var acc_text_2 = "109 Francis Way <br><br><strong>Description: </strong>Family away on vacation, can someone <br>please help shovel snow on the <br>sidewalk? Thank you in advance!";
        var acc_text_3 = "1045 Quayside Drive <br><br><strong>Description: </strong>Fallen tree in the front yard, would <br>appreciate it if someone can <br>help me clear it!</p>";


        var infowindow0 = new google.maps.InfoWindow({
			content: acc_text_0
		  });

        marker0.addListener('click', function() {
			infowindow0.open(map, marker0);
		  });


        var infowindow = new google.maps.InfoWindow({
			content: acc_text_1
		  });

		marker.addListener('click', function() {
			infowindow.open(map, marker);
		  });

		var infowindow2 = new google.maps.InfoWindow({
			content: acc_text_2
		  });

		marker2.addListener('click', function() {
			infowindow2.open(map, marker2);
		  });

		var infowindow3 = new google.maps.InfoWindow({
			content: acc_text_3
		  });

		marker3.addListener('click', function() {
			infowindow3.open(map, marker3);
		  });


        $( "#post0" ).click(function() {
  			infowindow0.open(map, marker0);
		});

        $( "#post1" ).click(function() {
  			infowindow.open(map, marker);
		});

		$( "#post2" ).click(function() {
  			infowindow2.open(map, marker2);
		});

		$( "#post3" ).click(function() {
  			infowindow3.open(map, marker3);
		});


        map.data.loadGeoJson(
        'BUS_ROUTES.geojson');
    }

    function filterAll() {
      document.getElementById("post0").style.display = "";
      document.getElementById("post1").style.display = "";
      document.getElementById("post2").style.display = "";
      document.getElementById("post3").style.display = "";
      document.getElementById("post4").style.display = "";
      document.getElementById("post5").style.display = "";
      document.getElementById("post6").style.display = "";
    }
    function filterSnow() {
      document.getElementById("post0").style.display = "";
      document.getElementById("post1").style.display = "";
      document.getElementById("post2").style.display = "";
      document.getElementById("post3").style.display = "none";
      document.getElementById("post4").style.display = "";
      document.getElementById("post5").style.display = "";
      document.getElementById("post6").style.display = "none";
    }

    function filterTree() {
      document.getElementById("post0").style.display = "none";
      document.getElementById("post1").style.display = "";
      document.getElementById("post2").style.display = "none";
      document.getElementById("post3").style.display = "";
      document.getElementById("post4").style.display = "none";
      document.getElementById("post5").style.display = "none";
      document.getElementById("post6").style.display = "";
    }

    function filterOther() {
      document.getElementById("post0").style.display = "none";
      document.getElementById("post1").style.display = "none";
      document.getElementById("post2").style.display = "none";
      document.getElementById("post3").style.display = "none";
      document.getElementById("post4").style.display = "none";
      document.getElementById("post5").style.display = "none";
      document.getElementById("post6").style.display = "none";
    }

    function filterHigh() {
      document.getElementById("post0").style.display = "";
      document.getElementById("post1").style.display = "";
      document.getElementById("post2").style.display = "none";
      document.getElementById("post3").style.display = "none";
      document.getElementById("post4").style.display = "none";
      document.getElementById("post5").style.display = "none";
      document.getElementById("post6").style.display = "";
    }

    function filterMedium() {
      document.getElementById("post0").style.display = "none";
      document.getElementById("post1").style.display = "none";
      document.getElementById("post2").style.display = "";
      document.getElementById("post3").style.display = "none";
      document.getElementById("post4").style.display = "none";
      document.getElementById("post5").style.display = "";
      document.getElementById("post6").style.display = "none";
    }
    function filterLow() {
      document.getElementById("post0").style.display = "none";
      document.getElementById("post1").style.display = "none";
      document.getElementById("post2").style.display = "none";
      document.getElementById("post3").style.display = "";
      document.getElementById("post4").style.display = "";
      document.getElementById("post5").style.display = "none";
      document.getElementById("post6").style.display = "none";
    }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAzIJK2jYh-K8EMENlbTxm1_PYRK4Kq4p4&callback=initMap">
    </script>

</body>
</html>
